{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction UserComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function UserComponent_li_4_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const u_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.delete(u_r3));\n    });\n    i0.ɵɵtext(4, \"DELETE\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const u_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, u_r3), \" -- \");\n  }\n}\nclass UserComponent {\n  constructor(http) {\n    this.http = http;\n    this.users = [];\n    this.apiServerUrl = 'http://localhost:8080';\n  }\n  create(data) {\n    console.log(data);\n    this.http.post(this.apiServerUrl + \"/api/users\", data).subscribe(result => {\n      console.log(result);\n      window.location.reload();\n    });\n  }\n  update(data) {\n    var newUser = data;\n    this.http.post(this.apiServerUrl + \"/api/users/update\", newUser).subscribe(result => {\n      console.log(result);\n      window.location.reload();\n    });\n  }\n  delete(user) {\n    this.http.delete(this.apiServerUrl + \"/api/users/delete/\" + user.id).subscribe(result => {\n      console.log(result);\n      window.location.reload();\n    });\n  }\n  ngOnInit() {\n    this.getAll();\n  }\n  getAll() {\n    this.http.get(this.apiServerUrl + \"/api/users\").subscribe(result => {\n      this.users = result;\n      console.log(result);\n    });\n  }\n}\nUserComponent.ɵfac = function UserComponent_Factory(t) {\n  return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserComponent,\n  selectors: [[\"app-user\"]],\n  decls: 39,\n  vars: 2,\n  consts: [[\"id\", \"userDiv\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"userCreate\", \"ngForm\"], [\"type\", \"text\", \"name\", \"nome\", \"ngModel\", \"\", \"placeholder\", \"nome\"], [\"type\", \"text\", \"name\", \"cognome\", \"ngModel\", \"\", \"placeholder\", \"cognome\"], [\"type\", \"text\", \"name\", \"email\", \"ngModel\", \"\", \"placeholder\", \"email\"], [\"type\", \"text\", \"name\", \"password\", \"ngModel\", \"\", \"placeholder\", \"password\"], [\"type\", \"submit\"], [\"userUpdate\", \"ngForm\"], [\"type\", \"text\", \"name\", \"id\", \"ngModel\", \"\", \"placeholder\", \"id\"], [\"type\", \"text\", \"name\", \"cf\", \"ngModel\", \"\", \"placeholder\", \"cf\"], [3, \"click\"]],\n  template: function UserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementStart(3, \"ul\");\n      i0.ɵɵtemplate(4, UserComponent_li_4_Template, 5, 3, \"li\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"br\")(6, \"br\")(7, \"br\");\n      i0.ɵɵtext(8, \"CREATE USER \");\n      i0.ɵɵelementStart(9, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UserComponent_Template_form_ngSubmit_9_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r1 = i0.ɵɵreference(10);\n        return i0.ɵɵresetView(ctx.create(_r1.value));\n      });\n      i0.ɵɵelement(11, \"input\", 4)(12, \"br\")(13, \"br\")(14, \"input\", 5)(15, \"br\")(16, \"br\")(17, \"input\", 6)(18, \"br\")(19, \"br\")(20, \"input\", 7)(21, \"br\")(22, \"br\");\n      i0.ɵɵelementStart(23, \"button\", 8);\n      i0.ɵɵtext(24, \"Crea utente\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(25, \"br\")(26, \"br\")(27, \"br\");\n      i0.ɵɵtext(28, \"UPDATE USER \");\n      i0.ɵɵelementStart(29, \"form\", 2, 9);\n      i0.ɵɵlistener(\"ngSubmit\", function UserComponent_Template_form_ngSubmit_29_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r2 = i0.ɵɵreference(30);\n        return i0.ɵɵresetView(ctx.update(_r2.value));\n      });\n      i0.ɵɵelement(31, \"input\", 10)(32, \"br\")(33, \"br\")(34, \"input\", 11)(35, \"br\")(36, \"br\");\n      i0.ɵɵelementStart(37, \"button\", 8);\n      i0.ɵɵtext(38, \"Aggiorna utente\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"USERLIST [\", ctx.users.length, \"] : \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i2.JsonPipe],\n  styles: [\"div[_ngcontent-%COMP%]{\\n      \\n      padding-left : 10px;\\n    }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci91c2VyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0lBQ0k7O01BRUUsbUJBQW1CO0lBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgZGl2e1xuICAgICAgXG4gICAgICBwYWRkaW5nLWxlZnQgOiAxMHB4O1xuICAgIH1cbiAgICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { UserComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","UserComponent_li_4_Template_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r5","u_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","delete","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","UserComponent","constructor","http","users","apiServerUrl","create","data","console","log","post","subscribe","result","window","location","reload","update","newUser","user","id","ngOnInit","getAll","get","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","UserComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","UserComponent_li_4_Template","UserComponent_Template_form_ngSubmit_9_listener","_r6","_r1","ɵɵreference","value","UserComponent_Template_form_ngSubmit_29_listener","_r2","length","ɵɵproperty"],"sources":["C:\\Users\\bruno\\Desktop\\Phoenix-Cinema\\front\\src\\app\\user\\user.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { User } from '../model/user';\r\nimport { HttpClient } from '@angular/common/http'\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  template: `\r\n    <div id=\"userDiv\"> \r\n     <br>USERLIST [{{users.length}}] :\r\n      <ul>\r\n        \r\n        <li *ngFor=\"let u of users\"> {{u|json}}  --  <button (click)=\"delete(u)\">DELETE</button></li>\r\n        <!-- <li *ngFor=\"let u of users\">{{u[\"id\"]}}: {{u[\"nome\"]}}</li> -->\r\n      </ul>\r\n      <br><br><br>CREATE USER\r\n      <form #userCreate=\"ngForm\" (ngSubmit)=\"create(userCreate.value)\">\r\n        <input type=\"text\" name=\"nome\" ngModel placeholder=\"nome\"><br><br>\r\n        <input type=\"text\" name=\"cognome\" ngModel placeholder=\"cognome\"><br><br>\r\n        <input type=\"text\" name=\"email\" ngModel placeholder=\"email\"><br><br>\r\n        <input type=\"text\" name=\"password\" ngModel placeholder=\"password\"><br><br>\r\n        <button type=\"submit\">Crea utente</button>\r\n\r\n      </form>\r\n      \r\n      <br><br><br>UPDATE USER\r\n      <form #userUpdate=\"ngForm\" (ngSubmit)=\"update(userUpdate.value)\">\r\n        <input type=\"text\" name=\"id\" ngModel placeholder=\"id\"><br><br>\r\n        <input type=\"text\" name=\"cf\" ngModel placeholder=\"cf\"><br><br>\r\n        <button type=\"submit\">Aggiorna utente</button>\r\n\r\n      </form>\r\n    </div>\r\n\r\n  `,\r\n  styles: [\r\n    `\r\n    div{\r\n      \r\n      padding-left : 10px;\r\n    }\r\n    `,\r\n  ]\r\n})\r\nexport class UserComponent {\r\n  public users: User[] = [];\r\n  \r\n  private apiServerUrl = 'http://localhost:8080';\r\n\r\n  constructor(private http: HttpClient){ }\r\n\r\n  create(data: any){\r\n    console.log(data)\r\n    this.http.post(this.apiServerUrl+\"/api/users\",data).subscribe(result =>{\r\n      console.log(result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  update(data: any){\r\n    var newUser : User = data\r\n\r\n    this.http.post(this.apiServerUrl+\"/api/users/update\",newUser).subscribe(result =>{\r\n      console.log(result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  delete(user:User){\r\n    this.http.delete(this.apiServerUrl+\"/api/users/delete/\"+user.id).subscribe(result =>{\r\n      console.log(result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getAll()\r\n  }\r\n\r\n  getAll() {\r\n    this.http.get<User[]>(this.apiServerUrl+\"/api/users\").subscribe(result=>{\r\n      this.users = result;\r\n      console.log(result)\r\n    })\r\n  }\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}