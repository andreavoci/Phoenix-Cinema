{"ast":null,"code":"import { Util } from '../services/util';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BigliettoComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function BigliettoComponent_li_4_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const u_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delete(u_r2));\n    });\n    i0.ɵɵtext(4, \"Cancella biglietto\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const u_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, u_r2), \" -- \");\n  }\n}\nclass BigliettoComponent {\n  constructor(http) {\n    this.http = http;\n    this.biglietti = [];\n    this.apiServerUrl = 'http://localhost:8091';\n  }\n  create(data) {\n    console.log(data);\n    this.http.post(Util.bigliettiServerUrl + \"/create\", data).subscribe(result => {\n      console.log(result);\n      window.location.reload();\n    });\n  }\n  delete(biglietto) {\n    this.http.delete(Util.bigliettiServerUrl + \"/delete/\" + biglietto.id).subscribe(result => {\n      console.log(result);\n      window.location.reload();\n    });\n  }\n  ngOnInit() {\n    this.getAll();\n  }\n  getAll() {\n    this.http.get(Util.bigliettiServerUrl).subscribe(result => {\n      this.biglietti = result;\n      console.log(result);\n    });\n  }\n}\nBigliettoComponent.ɵfac = function BigliettoComponent_Factory(t) {\n  return new (t || BigliettoComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nBigliettoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BigliettoComponent,\n  selectors: [[\"app-biglietto\"]],\n  decls: 28,\n  vars: 2,\n  consts: [[\"id\", \"userDiv\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"bigliettoCreate\", \"ngForm\"], [\"type\", \"text\", \"name\", \"nome\", \"ngModel\", \"\", \"placeholder\", \"nome\"], [\"type\", \"text\", \"name\", \"regista\", \"ngModel\", \"\", \"placeholder\", \"regista\"], [\"type\", \"text\", \"name\", \"film\", \"ngModel\", \"\", \"placeholder\", \"film\"], [\"type\", \"text\", \"name\", \"sala\", \"ngModel\", \"\", \"placeholder\", \"sala\"], [\"type\", \"text\", \"name\", \"posto\", \"ngModel\", \"\", \"placeholder\", \"posto\"], [\"type\", \"submit\"], [3, \"click\"]],\n  template: function BigliettoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementStart(3, \"ul\");\n      i0.ɵɵtemplate(4, BigliettoComponent_li_4_Template, 5, 3, \"li\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"br\")(6, \"br\")(7, \"br\");\n      i0.ɵɵtext(8, \"CREATE BIGLIETTO \");\n      i0.ɵɵelementStart(9, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function BigliettoComponent_Template_form_ngSubmit_9_listener() {\n        i0.ɵɵrestoreView(_r5);\n        const _r1 = i0.ɵɵreference(10);\n        return i0.ɵɵresetView(ctx.create(_r1.value));\n      });\n      i0.ɵɵelement(11, \"input\", 4)(12, \"br\")(13, \"br\")(14, \"input\", 5)(15, \"br\")(16, \"br\")(17, \"input\", 6)(18, \"br\")(19, \"br\")(20, \"input\", 7)(21, \"br\")(22, \"br\")(23, \"input\", 8)(24, \"br\")(25, \"br\");\n      i0.ɵɵelementStart(26, \"button\", 9);\n      i0.ɵɵtext(27, \"Crea Biglietto\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"BIGLIETTI [\", ctx.biglietti.length, \"] : \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.biglietti);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i2.JsonPipe]\n});\nexport { BigliettoComponent };","map":{"version":3,"names":["Util","i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","BigliettoComponent_li_4_Template_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r4","u_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","delete","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","BigliettoComponent","constructor","http","biglietti","apiServerUrl","create","data","console","log","post","bigliettiServerUrl","subscribe","result","window","location","reload","biglietto","id","ngOnInit","getAll","get","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","BigliettoComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","BigliettoComponent_li_4_Template","BigliettoComponent_Template_form_ngSubmit_9_listener","_r5","_r1","ɵɵreference","value","length","ɵɵproperty"],"sources":["C:\\Users\\bruno\\Desktop\\Phoenix-Cinema\\front\\src\\app\\biglietto\\biglietto.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Biglietto } from '../model/biglietto';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Util } from '../services/util';\r\n\r\n@Component({\r\n  selector: 'app-biglietto',\r\n  template: `\r\n    <div id=\"userDiv\"> \r\n     <br>BIGLIETTI [{{biglietti.length}}] :\r\n      <ul>\r\n        \r\n        <li *ngFor=\"let u of biglietti\"> {{u|json}}  --  <button (click)=\"delete(u)\">Cancella biglietto</button></li>\r\n        <!-- <li *ngFor=\"let u of users\">{{u[\"id\"]}}: {{u[\"nome\"]}}</li> -->\r\n      </ul>\r\n      <br><br><br>CREATE BIGLIETTO\r\n      <form #bigliettoCreate=\"ngForm\" (ngSubmit)=\"create(bigliettoCreate.value)\">\r\n        <input type=\"text\" name=\"nome\" ngModel placeholder=\"nome\"><br><br>\r\n        <input type=\"text\" name=\"regista\" ngModel placeholder=\"regista\"><br><br>\r\n        <input type=\"text\" name=\"film\" ngModel placeholder=\"film\"><br><br>\r\n        <input type=\"text\" name=\"sala\" ngModel placeholder=\"sala\"><br><br>\r\n        <input type=\"text\" name=\"posto\" ngModel placeholder=\"posto\"><br><br>\r\n        <button type=\"submit\">Crea Biglietto</button>\r\n\r\n      </form>\r\n\r\n\r\n\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    \r\n    \r\n    \r\n  `,\r\n  ]\r\n})\r\nexport class BigliettoComponent {\r\n\r\n  public biglietti: Biglietto[] = [];\r\n\r\n  private apiServerUrl = 'http://localhost:8091';\r\n\r\n  constructor(private http: HttpClient){ }\r\n\r\n  create(data: any){\r\n    console.log(data)\r\n    this.http.post(Util.bigliettiServerUrl+\"/create\",data).subscribe(result =>{\r\n      console.log(result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  delete(biglietto:Biglietto){\r\n    this.http.delete(Util.bigliettiServerUrl+\"/delete/\"+biglietto.id).subscribe(result =>{\r\n      console.log(result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getAll()\r\n  }\r\n\r\n  getAll() {\r\n    this.http.get<Biglietto[]>(Util.bigliettiServerUrl).subscribe(result=>{\r\n      this.biglietti = result;\r\n      console.log(result)\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}